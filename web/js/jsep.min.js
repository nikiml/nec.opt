!function(r){"use strict"
var n="Compound",e="Identifier",t="MemberExpression",i="Literal",o="ThisExpression",a="CallExpression",u="UnaryExpression",c="BinaryExpression",f="LogicalExpression",s=!0,p={"-":s,"!":s,"~":s,"+":s},g={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},h=function(r){var n,e=0
for(var t in r)(n=t.length)>e&&r.hasOwnProperty(t)&&(e=n)
return e},l=h(p),v=h(g),d={"true":!0,"false":!1,"null":null},x="this",m=function(r){return g[r]||0},y=function(r,n,e){var t="||"===r||"&&"===r?f:c
return{type:t,operator:r,left:n,right:e}},w=function(r){return r>=48&&57>=r},$=function(r){return 36===r||95===r||r>=65&&90>=r||r>=97&&122>=r},E=function(r){return 36===r||95===r||r>=65&&90>=r||r>=97&&122>=r||r>=48&&57>=r},b=function(r){for(var c,f,s=0,h=r.length,b=function(){for(var n=r.charCodeAt(s);32===n||9===n;)n=r.charCodeAt(++s)},C=function(){b()
for(var n=r.substr(s,v),e=n.length;e>0;){if(g.hasOwnProperty(n))return s+=e,n
n=n.substr(0,--e)}return!1},A=function(){var r,n,e,t,i,o,a,u
if(o=j(),n=C(),!n)return o
if(i={value:n,prec:m(n)},a=j(),!a)throw Error("Expected expression after "+n+" at character "+s)
for(t=[o,i,a];(n=C())&&(e=m(n),0!==e);){for(i={value:n,prec:e};t.length>2&&e<=t[t.length-2].prec;)a=t.pop(),n=t.pop().value,o=t.pop(),r=y(n,o,a),t.push(r)
if(r=j(),!r)throw Error("Expected expression after "+n+" at character "+s)
t.push(i),t.push(r)}for(u=t.length-1,r=t[u];u>1;)r=y(t[u-1].value,t[u-2],r),u-=2
return r},j=function(){var n,e,t
if(b(),n=r.charCodeAt(s),w(n)||46===n)return I()
if(39===n||34===n)return V()
if($(n))return _()
if(40===n)return O()
for(e=r.substr(s,l),t=e.length;t>0;){if(p.hasOwnProperty(e))return s+=t,{type:u,operator:e,argument:j(),prefix:!0}
e=e.substr(0,--t)}return!1},I=function(){for(var n="";w(r.charCodeAt(s));)n+=r.charAt(s++)
if("."===r.charAt(s))for(n+=r.charAt(s++);w(r.charCodeAt(s));)n+=r.charAt(s++)
if("e"===r.charAt(s)||"E"===r.charAt(s)){for(n+=r.charAt(s++),("+"===r.charAt(s)||"-"===r.charAt(s))&&(n+=r.charAt(s++));w(r.charCodeAt(s));)n+=r.charAt(s++)
if(!w(r.charCodeAt(s-1)))throw Error("Expected exponent ("+n+r.charAt(s)+") at character "+s)}if($(r.charCodeAt(s)))throw Error("Variable names cannot start with a number ("+n+r.charAt(s)+") at character "+s)
return{type:i,value:parseFloat(n),raw:n}},V=function(){for(var n,e="",t=r.charAt(s++),o=!1;h>s;){if(n=r(s++),n===t){o=!0
break}if("\\"===n)switch(n=r.charAt(s++)){case"n":e+="\n"
break
case"r":e+="\r"
break
case"t":e+="	"
break
case"b":e+="\b"
break
case"f":e+="\f"
break
case"v":e+=""}else e+=n}if(!o)throw Error('Unclosed quote after "'+e+'"')
return{type:i,value:e,raw:t+e+t}},S=function(){var n,t=r.charCodeAt(s),a=s
for($(t)&&s++;h>s&&(t=r.charCodeAt(s),E(t));)s++
return n=r.slice(a,s),d.hasOwnProperty(n)?{type:i,value:d[n],raw:n}:n===x?{type:o}:{type:e,name:n}},P=function(){for(var e,t,i=[];h>s;){if(b(),e=r.charAt(s),")"===e){s++
break}if(","===e)s++
else{if(t=A(),!t||t.type===n)throw Error("Expected comma at character "+s)
i.push(t)}}return i},_=function(){var n,e,i
for(e=S(),b(),n=r.charAt(s);"."===n||"["===n||"("===n;){if("."===n)s++,b(),e={type:t,computed:!1,object:e,property:S()}
else if("["===n){if(i=s,s++,e={type:t,computed:!0,object:e,property:A()},b(),n=r.charAt(s),"]"!==n)throw Error("Unclosed [ at character "+s)
s++,b()}else"("===n&&(s++,e={type:a,arguments:P(),callee:e})
b(),n=r.charAt(s)}return e},O=function(){s++
var n=A()
if(b(),")"===r.charAt(s))return s++,n
throw Error("Unclosed ( at character "+s)},B=[];h>s;)if(c=r.charAt(s),";"===c||","===c)s++
else if(f=A())B.push(f)
else if(h>s)throw Error("Unexpected '"+r.charAt(s)+"' at character "+s)
return 1===B.length?B[0]:{type:n,body:B}}
if(b.version="0.2.7",b.toString=function(){return"JavaScript Expression Parser (JSEP) v"+b.version},b.addUnaryOp=function(r){return p[r]=s,this},b.addBinaryOp=function(r,n){return v=Math.max(r.length,v),g[r]=n,this},b.removeUnaryOp=function(r){return delete p[r],r.length===l&&(l=h(p)),this},b.removeBinaryOp=function(r){return delete g[r],r.length===v&&(v=h(g)),this},"undefined"==typeof exports){var C=r.jsep
r.jsep=b,b.noConflict=function(){return r.jsep===b&&(r.jsep=C),b}}else"undefined"!=typeof module&&module.exports?exports=module.exports=b:exports.parse=b}(this)