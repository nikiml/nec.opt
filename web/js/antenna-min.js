if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length,c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}if(!Array.prototype.maxIndex){Array.prototype.maxIndex=function(){if(!this.length){return -1}var b=0,a=this.length,c=1;for(;c<a;++c){if(this[b]<this[c]){b=c}}return b}}if(!Array.prototype.minIndex){Array.prototype.minIndex=function(){if(!this.length){return -1}var c=0,a=this.length,b=1;for(;b<a;++b){if(this[c]>this[b]){c=b}}return c}}if(!Array.prototype.maxValue){Array.prototype.maxValue=function(){if(!this.length){return undefined}return this[this.maxIndex()]}}if(!Array.prototype.minValue){Array.prototype.minValue=function(){if(!this.length){return undefined}return this[this.minIndex()]}}function getClientWidth(){return document.compatMode==="CSS1Compat"&&!window.opera?document.documentElement.clientWidth:document.body.clientWidth}function getClientHeight(){return document.compatMode==="CSS1Compat"&&!window.opera?document.documentElement.clientHeight:document.body.clientHeight}function getInternetExplorerVersion(){var c=-1;if(navigator.appName==="Microsoft Internet Explorer"){var a=navigator.userAgent,b=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(b.exec(a)!==null){c=parseFloat(RegExp.$1)}}return c}function r_line(e,b,d,a,c){return e.path("M"+b+" "+d+"L"+a+" "+c)}function radians(a){return Math.PI*a/180}var antennaGeometry=function(ae,W,af,R,l,H,a,I,e,ah){var d=Raphael(ae,W,af),P=Matrix.RotationX(radians(15)).x(Matrix.RotationY(radians(-60)).x($M([[0,1,0],[0,0,1],[1,0,0]]))),o=R,N=H?H:0,r=a?a:0,ab=undefined,aa=undefined,u=undefined,s=undefined,g=I?14:0,C=0,ak=0,S=(getInternetExplorerVersion()!==-1),ai="#fff",al=function(h){return Math.round(h*1000)+"mm"},t=function(h){return Math.round(h*10000)/10},F=function(h){return Math.round(h*10000)/10+"mm"},v=function(h){if(h%2){return[h,16]}h/=2;if(h%2){return[h,8]}h/=2;if(h%2){return[h,4]}h/=2;return[h,2]},q=function(h){var i=h<0?-Math.round(h/0.0015875):Math.round(h/0.0015875);if(i%16!==0){var am=Math.abs(i%16),w=v(am);return(h<0?"-":"")+Math.round(i/16-0.5)+" "+w[0]+"/"+w[1]+" in"}else{return(h<0?"-":"")+Math.round(i/16-0.5)+"in"}},Q=function(am){var h=am<0?-Math.round(am/0.0015875):Math.round(am/0.0015875);if(h%16!==0){var w=Math.abs(h%16),i=v(w);return(am<0?"-":"")+Math.round(h/16-0.5)+" "+i[0]+"/"+i[1]}else{return(am<0?"-":"")+Math.round(h/16-0.5)}},D=function(ar){var am=0,an=[];for(am=0;am!==ar.length;am++){var h=ar[am][0],at=ar[am].slice(1),w;if(at.length%6!==0){alert("Invalid geometry array - length="+at.length)}for(w=0;w!==at.length;w+=6){var au=$V(at.slice(w,w+3)),ap=$V(at.slice(w+3,w+6)),aq=au.subtract(ap),ao=aq.modulus();an.push({color:h,pts:[au,ap],segment_selected:0,sselected:0,eselected:0,len:ao,names:[[al(ao),t(au.e(1))+","+t(au.e(2))+","+t(au.e(3)),t(ap.e(1))+","+t(ap.e(2))+","+t(ap.e(3))],[q(ao),Q(au.e(1))+","+Q(au.e(2))+","+Q(au.e(3)),Q(ap.e(1))+","+Q(ap.e(2))+","+Q(ap.e(3))]]})}}return an},n=D(l),m=[],p=-1,e=e,M=[],ad,b=W/2+N,E=(af+g)/2+r,U=this,j=function(){P=Matrix.RotationX(radians(15)).x(Matrix.RotationY(radians(-60)).x($M([[0,1,0],[0,0,1],[1,0,0]])));b=W/2+N;E=(af+g)/2+r;R=o;U.redraw()},X=function(h,an){if(h===0&&an===0){return}if(C===0){b+=h;E-=an}else{var am=0;if(u<40){am=-an;h=0;an=0}else{if(u>W-40){h=0}else{if(s<g+40){an=0}}}if(h===0&&an===0&&am===0){return}var w=Math.sqrt(h*h+an*an+am*am)*Math.PI/Math.min(W,af),i=Matrix.Rotation(w,$V([-an,h,am]).toUnitVector());P=i.x(P)}U.redraw()},Y="#f00",ac=function(i){var h=this;if(C){h.attr({fill:Y});C=0}else{h.attr({fill:ai});C=1}U.redraw()},K=d.set(),k="stroke-width",B="#b00",Z="#0b0",aj="#00b",ag=function(){var an=P.x(Vector.Zero(3)),ao=P.x(Vector.i),i=an.e(1)*30,am=-an.e(2)*30,h=ao.e(1)*30,w=-ao.e(2)*30,ap="M"+i+" "+am+"L"+h+" "+w;d.path(ap).translate(b,E).attr({stroke:B,stroke_width:1});h=i+(h-i)*1.25;w=am+(w-am)*1.25;d.text(h,w,"X").translate(b,E).attr({stroke:B,stroke_width:1});ao=P.x(Vector.j);h=ao.e(1)*30;w=-ao.e(2)*30;ap="M"+i+" "+am+"L"+h+" "+w;d.path(ap).translate(b,E).attr({stroke:Z,stroke_width:1});h=i+(h-i)*1.25;w=am+(w-am)*1.25;d.text(h,w,"Y").translate(b,E).attr({stroke:Z,stroke_width:1});ao=P.x(Vector.k);h=ao.e(1)*30;w=-ao.e(2)*30;ap="M"+i+" "+am+"L"+h+" "+w;d.path(ap).translate(b,E).attr({stroke:aj,stroke_width:1});h=i+(h-i)*1.25;w=am+(w-am)*1.25;d.text(h,w,"Z").translate(b,E).attr({stroke:aj,stroke_width:1})},L=function(){p=this.i;J();U.redraw()},G=function(){rct=d.rect(W-30,1,30,12,2);rct.attr({fill:"#fff",stroke:"none"});rct.click(function(){window.open("../help.html")});rct.mouseover(function(){this.attr({fill:"#fd0"})});rct.mouseout(function(){this.attr({fill:"#fff"})});txt=d.text(W-15,6,"Help");txt.click(function(){window.open("../help.html")});txt.rect=rct;txt.mouseover(function(){this.rect.attr({fill:"#fd0"});this.attr({"font-weight":"bold"})});txt.mouseout(function(){this.rect.attr({fill:"#fff"});this.attr({"font-weight":"normal"})})},V=function(){if(!m.length){return}var w=e.length,an,h,ap;for(an=0;an!==m.length;++an){w+=m[an][0].length}var am=Math.min((W-20)/(w+m.length+1),8),ao=(W-am*w)/2-30;d.text(ao+e.length*am/2,g/2,e);ao+=(1+e.length)*am;for(an=0;an!==m.length;++an){if(an===p){d.rect(ao,1,m[an][0].length*am,g-2).attr({fill:"#8ff",stroke:"none"})}else{ap=d.rect(ao,1,m[an][0].length*am,g-2);ap.attr({fill:"#fff",stroke:"none"});ap.mouseover(function(){this.attr({fill:"#ccc"})});ap.mouseout(function(){this.attr({fill:"#fff"})});ap.click(L);ap.i=an}h=d.text(ao+m[an][0].length*am/2,g/2,m[an][0]);if(an!==p){h.i=an;h.click(L);h.rect=ap;h.mouseover(function(){this.rect.attr({fill:"#ccc"});this.attr({"font-weight":"bold"})});h.mouseout(function(){this.rect.attr({fill:"#fff"});this.attr({"font-weight":"normal"})})}ao+=(1+m[an][0].length)*am}},z=function(aq,am){var at=ak?q:F,h=0,az=[],ar,w=[],ax=[],av=[],aw="";if(!aq.length){d.text(W/2-20,g+7,"Select elements for info. Double click to clear. Total len="+at(am));return}for(ar=0;ar!==aq.length;++ar){var ay=aq[ar],ap=ay[0],an=ay[1],au=ay[2],ao=M[ap][an];if(au===0){az.push(ao.pts[0]);az.push(ao.pts[1]);h+=ao.len}else{az.push(ao.pts[au-1])}}for(ar=0;ar!==az.length;++ar){if(w.indexOf(az[ar].e(1))===-1){w.push(az[ar].e(1))}if(ax.indexOf(az[ar].e(2))===-1){ax.push(az[ar].e(2))}if(av.indexOf(az[ar].e(3))===-1){av.push(az[ar].e(3))}}if(w.length===1){aw+=" x="+at(w[0])}else{if(w.length===2){aw+=" dx="+at(Math.abs(w[0]-w[1]))}}if(ax.length===1){aw+=" y="+at(ax[0])}else{if(ax.length===2){aw+=" dy="+at(Math.abs(ax[0]-ax[1]))}}if(av.length===1){aw+=" z="+at(av[0])}else{if(av.length===2){aw+=" dz="+at(Math.abs(av[0]-av[1]))}}if(h>0){aw+=" Total len="+at(h)}d.text(W/2-20,g+7,"Selection info ("+aq.length+"): "+aw)},J=function(){for(var w=0;w!==M.length;++w){var am=M[w];for(var h=0;h!==am.length;++h){am[h].selected=0;am[h].sselected=0;am[h].eselected=0}}},O=function(){K.remove();K.push(d.g.popup(this.x,this.y,this.value,null,3))},f=function(){K.remove()},c=function(){var h=this.si;M[h[0]][h[1]].selected=!M[h[0]][h[1]].selected;U.redraw()},T=function(){var h=this.si;M[h[0]][h[1]].sselected=!M[h[0]][h[1]].sselected;U.redraw()},A=function(){var h=this.si;M[h[0]][h[1]].eselected=!M[h[0]][h[1]].eselected;U.redraw()};if(I){p=0;for(ad=0;ad!==I.length;++ad){m.push([I[ad][0],D(I[ad][1])])}}this.redraw=function(){K.remove();d.clear();var av=ak?1:0,az=[],at=0,aq,ay=d.rect(1,1,W-2,af-2,10).attr({fill:ai,stroke:"none"}),w,aB,au,am=0,ap,ao=[],ax,ar,h,an,aA,aw;ay.drag(function(aD,aC){var i=aD-ab,aE=-aC+aa;ab=aD;aa=aC;X(i,aE)},function(i,aC){u=i;s=aC;ab=0;aa=0},function(){});ay.dblclick(function(){J();U.redraw()});M=[n];if(p!==-1){M.push(m[p][1])}for(at=0;at!==M.length;++at){w=M[at];for(aq=0;aq!==w.length;aq++){ap=w[aq];am+=ap.len;aB=P.x(ap.pts[0]);au=P.x(ap.pts[1]);az.push({z:Math.min(aB.e(3),au.e(3)),x1:aB.e(1)*R+b,y1:-aB.e(2)*R+E,x2:au.e(1)*R+b,y2:-au.e(2)*R+E,sindex:[at,aq]})}}az.sort(function(aC,i){return aC.z-i.z});if(!S){for(at=0;at!==az.length;++at){ap=az[at];ax="M"+ap.x1+" "+ap.y1+"L"+ap.x2+" "+ap.y2;ar=ap.sindex;h=d.path(ax).attr({stroke:ai,"stroke-width":11});w=M[ar[0]];aq=ar[1];h.value=w[aq].names[av][0];h.x=(ap.x1+ap.x2)/2;h.y=(ap.y1+ap.y2)/2;h.si=ar;h.hover(O,f);h.click(c);aw=d.circle(ap.x1,ap.y1,7).attr({stroke:ai,fill:ai});aw.value=w[aq].names[av][1];aw.x=ap.x1;aw.y=ap.y1;aw.si=ar;aw.hover(O,f);aw.click(T);aw=d.circle(ap.x2,ap.y2,7).attr({stroke:ai,fill:ai});aw.value=w[aq].names[av][2];aw.x=ap.x2;aw.y=ap.y2;aw.si=ar;aw.hover(O,f);aw.click(A)}}ag();for(at=0;at!==az.length;++at){ap=az[at];ax="M"+ap.x1+" "+ap.y1+"L"+ap.x2+" "+ap.y2;ar=ap.sindex;aq=ar[1];w=M[ar[0]];an=w[aq].color;aA=(w[aq].selected?"#f0f":an);h=d.path(ax).attr({stroke:aA,"stroke-width":3});h.value=w[aq].names[av][0];h.x=(ap.x1+ap.x2)/2;h.y=(ap.y1+ap.y2)/2;h.si=ar;if(w[aq].selected){ao.push([ar[0],aq,0])}h.hover(O,f);h.click(c);aA=(w[aq].sselected?"#f0f":an);aw=d.circle(ap.x1,ap.y1,3).attr({stroke:aA,fill:aA});aw.value=w[aq].names[av][1];aw.x=ap.x1;aw.y=ap.y1;aw.si=ar;if(w[aq].sselected){ao.push([ar[0],aq,1])}aw.hover(O,f);aw.click(T);aA=(w[aq].eselected?"#f0f":an);aw=d.circle(ap.x2,ap.y2,3).attr({stroke:aA,fill:aA});aw.value=w[aq].names[av][2];aw.x=ap.x2;aw.y=ap.y2;aw.si=ar;if(w[aq].eselected){ao.push([ar[0],aq,2])}aw.hover(O,f);aw.click(A)}z(ao,am);G();V();d.circle(15,af-15,10).attr({fill:ai}).click(function(i){R=R*1.1;U.redraw()});d.g.plus(15,af-15,10).attr({fill:"#000"}).click(function(i){R=R*1.1;U.redraw()});d.circle(40,af-15,10).attr({fill:ai}).click(function(i){R=R/1.1;U.redraw()});d.g.line(40,af-15,10).attr({fill:"#000"}).click(function(i){R=R/1.1;U.redraw()});d.g.label(80,af-15,"Reset").click(function(i){J();j()});d.g.label(150,af-15,ak?"Switch to MM":"Switch to IN").click(function(i){ak=!ak;U.redraw()});aw=d.circle(W-24,af-15,14).attr({stroke:"#000"}).click(ac);d.g.label(W-86,af-15,"F").click(function(i){P=$M([[0,1,0],[0,0,1],[1,0,0]]);U.redraw()});d.g.label(W-69,af-15,"L").click(function(i){P=$M([[1,0,0],[0,0,1],[0,-1,0]]);U.redraw()});d.g.label(W-51,af-15,"T").click(function(i){P=$M([[0,1,0],[-1,0,0],[0,0,1]]);U.redraw()});d.path("M15.999,4.308c1.229,0.001,2.403,0.214,3.515,0.57L18.634,6.4h6.247l-1.562-2.706L21.758,0.99l-0.822,1.425c-1.54-0.563-3.2-0.878-4.936-0.878c-7.991,0-14.468,6.477-14.468,14.468c0,3.317,1.128,6.364,3.005,8.805l2.2-1.689c-1.518-1.973-2.431-4.435-2.436-7.115C4.312,9.545,9.539,4.318,15.999,4.308zM27.463,7.203l-2.2,1.69c1.518,1.972,2.431,4.433,2.435,7.114c-0.011,6.46-5.238,11.687-11.698,11.698c-1.145-0.002-2.24-0.188-3.284-0.499l0.828-1.432H7.297l1.561,2.704l1.562,2.707l0.871-1.511c1.477,0.514,3.058,0.801,4.709,0.802c7.992-0.002,14.468-6.479,14.47-14.47C30.468,12.689,29.339,9.643,27.463,7.203z").attr({fill:"#000"}).scale(3/4).translate(W-40,af-31).click(ac);if(C){aw.attr({fill:"#f00",stroke:"#000"})}else{aw.attr({fill:ai,stroke:"#000"})}}};var gainChart=function(s,o,C,b,m,v,d,e,g,G){var t=Raphael(s),p=t.set(),B,A,c,z,n,F,l,D,a,k,q=Math.min(b.length,m.length);if(G){t.text(o/2,10,G).attr({"font-size":14})}t.g.txtattr.font="10px 'Fontin Sans', Fontin-Sans, sans-serif";var E=function(){if(p){p.remove()}p.push(t.g.popup(this.x,this.y,this.value,null,3))};var u=function(){if(p){p.remove()}};var f=function(){if(this.hidden){this.hidden=0;this.text.attr({fill:"#000"});this.chart.lines.show();this.chart.symbols.show();this.chart.dots.show()}else{this.hidden=1;this.text.attr({fill:"#ccc"});this.chart.lines.hide();this.chart.symbols.hide();this.chart.dots.hide()}};for(B=m.length;B!==0;){--B;c=m[B][0];z=m[B][1];n=v[B][1];F=m[B].slice(2);if(B){l={gutter:10,nostroke:false,axis:"0 0 0 0",symbol:"o",smooth:true,axisystep:(e-d)*2,axisxstep:b.length-1,axisymin:d,axisymax:e}}else{l={gutter:10,nostroke:false,axis:"0 0 1 1",symbol:"o",smooth:true,axisystep:(e-d)*2,axisxstep:b.length-1,axisymin:d,axisymax:e,grid:"5 2"}}if(F.length>b.length){F=F.slice(0,b.length)}D=t.g.linechart(20,20,o,C,[b],[F],l).hover(E,u);D.symbols.attr({r:2});D.lines.attr({stroke:z});D.symbols.attr({stroke:z});D.symbols.attr({fill:z});D.grid.attr({"stroke-width":0.25});k=t.rect(20,C+31+10*B,20,8).attr({stroke:"none",fill:z});k.chart=D;k.hidden=0;k.color=z;k.altcolor=n;k.mouseover(function(){this.attr({fill:this.altcolor});this.text.attr({"font-weight":"bold"})});k.mouseout(function(){this.attr({fill:this.color});this.text.attr({"font-weight":"normal"})});k.text=t.text(44,C+35+10*B,c).attr({"text-anchor":"start"});k.text.rect=k;k.text.mouseover(function(){this.rect.attr({fill:this.rect.altcolor});this.attr({"font-weight":"bold"})});k.text.mouseout(function(){this.rect.attr({fill:this.rect.color});this.attr({"font-weight":"normal"})});k.text.text=k.text;k.text.chart=k.chart;k.click(f);k.text.click(f)}for(B=v.length;B!==0;){--B;c=v[B][0];z=v[B][1];n=m[B][1];F=v[B].slice(2);if(B){l={gutter:10,nostroke:false,axis:"0 0 0 0",symbol:"o",smooth:true,axisystep:(g-1)*2,axisxstep:b.length-1,axisymin:1,axisymax:g}}else{l={gutter:10,nostroke:false,axis:"0 1 0 0",symbol:"o",smooth:true,axisystep:(g-1)*2,axisxstep:b.length-1,axisymin:1,axisymax:g,grid:"0 1"}}if(F.length>b.length){F=F.slice(0,b.length)}a=t.g.linechart(20,20,o,C,[b],[F],l).hover(E,u);a.symbols.attr({r:2});a.lines.attr({stroke:z});a.symbols.attr({stroke:z});a.symbols.attr({fill:z});a.axis.attr({stroke:"#f00"});a.grid.attr({stroke:"#f00"});a.grid.attr({"stroke-width":0.25});k=t.rect(o,C+31+10*B,20,8).attr({stroke:"none",fill:z});k.chart=a;k.hidden=0;k.color=z;k.altcolor=n;k.mouseover(function(){this.attr({fill:this.altcolor});this.text.attr({"font-weight":"bold"})});k.mouseout(function(){this.attr({fill:this.color});this.text.attr({"font-weight":"normal"})});k.text=t.text(o-4,C+35+10*B,c).attr({"text-anchor":"end",fill:"#000"});k.text.rect=k;k.text.mouseover(function(){this.rect.attr({fill:this.rect.altcolor});this.attr({"font-weight":"bold"})});k.text.mouseout(function(){this.rect.attr({fill:this.rect.color});this.attr({"font-weight":"normal"})});k.click(f);k.text.text=k.text;k.text.chart=k.chart;k.text.click(f)}};var uhf_channels=[470,476,482,488,494,500,506,512,518,524,530,536,542,548,554,560,566,572,578,584,590,596,602,608,614,620,626,632,638,644,650,656,662,668,674,680,686,692,698];var uhf_hi_channels=uhf_channels.concat([704,710,716,722,728,734,740,746,752,758,764,770,776,782,788,794,800,806]);var vhf_hi_channels=[174,180,186,192,198,204,210,216];var uhfChart=function(e,g,c,i,d,a,b,j,f){return gainChart(e,g,c,uhf_channels,i,d,a,b,j,f)},uhfHiChart=function(e,g,c,i,d,a,b,j,f){return gainChart(e,g,c,uhf_hi_channels,i,d,a,b,j,f)},vhfHiChart=function(e,g,c,i,d,a,b,j,f){return gainChart(e,g,c,vhf_hi_channels,i,d,a,b,j,f)};var AntennaHPattern=function(v,w,b,J,s,t,p){w=Math.max(100,w-20);var l=this,h=Raphael(v,w,w),d=[],G=0,F,I,g,f=Math.round(w/2-(J.length>1?35:25)),m,E=[],z=[f],r,C=[],a=[],B=0,e=360/((J[0][0].length-1)*(s+1)),u=h.set();l.x=w/2;l.y=l.x+(J.length>1?20:0);for(;G!=J.length;++G){a.push(1);for(F=0;F!=J[G].length;++F){d.push(J[G][F].maxValue())}}g=Math.max(Math.round(d.minValue()-3.5),0);I=Math.round(d.maxValue()+0.5);while(I>=g){E.push(I);I-=3}if(I>0&&I<=2){E.push(0)}else{if(I>0&&I<=5){E.push(I);E.push(0)}else{if(I>0){var k=Math.round(I/5);k=Math.round(I/k-0.5);while(I>=k){E.push(I);I-=k}E.push(0)}else{if(E.length>2){E.pop()}E.push(0)}}}E.push(-5);E.push(-10);E.push(-20);E.push(-50);E.push(-1000);if(E[0]<=12){m=0.5}else{m=0.5*12/E[0]}r=1-m;for(G=1;E[G]>0;++G){z.push(Math.round((m+r*E[G]/E[0])*z[0]))}z.push(Math.round(m*z[0]));z.push(Math.round(m*0.75*z[0]));z.push(Math.round(m*0.5*z[0]));z.push(Math.round(m*0.25*z[0]));z.push(Math.round(m*0.125*z[0]));z.push(0);var q=function(M){var j=1;if(M<-1000){return 0}for(;j<E.length;++j){if(M>E[j]){break}}return(z[j-1]-z[j])*(M-E[j])/(E[j-1]-E[j])+z[j]},c=function(){u.remove();u.push(h.g.popup(this.x,this.y,this.value,null,3))},L=function(){u.remove()},D=function(S){var O=J[S][B],Q=0,Z="",X=0,j=0,R=O[0],U,N,W,V,T=h.set(),M,Y=p[S][0],P=function(i){U=q(O[Q]);j=radians(X);W=l.x+Math.cos(j)*U;V=l.y-Math.sin(j)*U;Z+=i+Math.round(W*100)/100+" "+Math.round(V*100)/100;N=h.circle(W,V,2).attr({stroke:Y,fill:Y});N.value=X+" dg\n"+O[Q];N.x=W;N.y=V;N.hover(c,L);X+=e;T.push(N)};P("M");M=N;for(Q=1;Q<O.length;++Q){P("L")}if(s){for(Q=O.length-2;Q>0;--Q){P("L")}}Z+="Z";res=h.path(Z);res.attr({stroke:Y}).insertBefore(M);T.push(res);return T},o=function(){B+=this.step;if(B>=b.length-1){B=b.length-1}l.draw()},K=function(){B-=this.step;if(B<0){B=0}l.draw()},A=function(){var i=this.mno;if(a[i]){C[i].hide();a[i]=0}else{C[i].show();a[i]=1}l.draw()},n=function(){var Z=0,V=z,aa=V.length-5,N,j,ab,W=J[0][B],U="#000",O="#888",M="#888",Y="#ccc",T,S="#fff",ac="normal",X="bolder",P=function(){var i=this.mno,ad=this;ad.text.attr({"font-weight":X});if(a[i]){ad.attr({fill:M})}else{ad.attr({fill:Y})}},Q=function(){var i=this.mno,ad=this;ad.text.attr({"font-weight":ac});if(a[i]){ad.attr({fill:p[i][1]})}else{ad.attr({fill:S})}};if(J.length>1){for(Z=0;Z!=J.length;++Z){W=J[Z][B];T=h.rect(Z*w/J.length,2,w/J.length,12).attr({stroke:"none"});T.click(A);T.mno=Z;if(a[Z]){T.attr({fill:p[Z][1]})}else{T.attr({fill:S})}T.text=h.text((Z+0.5)*w/J.length,8,t[Z]);T.text.mno=Z;T.text.click(A);T.text.btn=T;T.text.mouseover(function(){this.btn.onBtnOver()});T.text.mouseout(function(){this.btn.onBtnOut()});T.mouseover(P);T.mouseout(Q);T.onBtnOver=P;T.onBtnOut=Q;h.text((Z+0.5)*w/J.length,18,s?("F: "+W[0]+"dBi, B: "+W[W.length-1]+"dBi"):("F: "+W[0]+"dBi, B: "+W[Math.round(W.length/2-0.5)]+"dBi")).attr({"font-size":9});h.text((Z+0.5)*w/J.length,28,W.minValue()+" < dBi < "+W.maxValue()).attr({"font-size":9})}h.text(8,38,b[B]).attr({"text-anchor":"start"})}else{h.text(10,w-18,W.minValue()+" < dBi < "+W.maxValue()).attr({"text-anchor":"start"});h.text(0,w-8,s?("F: "+W[0]+"dBi, B: "+W[W.length-1]+"dBi"):("F: "+W[0]+"dBi, B: "+W[Math.round(W.length/2-0.5)]+"dBi")).attr({"text-anchor":"start","font-size":9});h.text(8,8,b[B]).attr({"text-anchor":"start"})}for(Z=0;Z!=V.length-1;++Z){h.circle(l.x,l.y,V[Z]).attr({stroke:"#000",fill:"none"});h.text(l.x-10,l.y-V[Z]+5,E[Z])}for(Z=0;Z!=360;Z+=5){ab=radians(Z);N=Math.cos(ab);j=Math.sin(ab);if(Z%15){r_line(h,l.x+N*V[aa],l.y+j*V[aa],l.x+N*V[0],l.y+j*V[0]).attr({stroke:M})}else{if(Z%90){r_line(h,l.x+N*V[aa+1],l.y+j*V[aa+1],l.x+N*V[0],l.y+j*V[0]).attr({stroke:U})}else{r_line(h,l.x,l.y,l.x+N*V[0],l.y+j*V[0]).attr({stroke:U})}h.text(l.x+N*(V[0]+10),l.y-j*(V[0]+10),Z)}}x=w-50;y=w-15;var R=function(i,ae,ah,ai,ag){var af=h.rect(i,y,ae,12),ad=h.text(i+ae/2,y+5,ah);af.attr({fill:O,stroke:"none"});af.click(ai);af.step=ag;af.mouseover(function(){this.attr({fill:Y});this.txt.attr({"font-weight":"bold"})});af.mouseout(function(){this.attr({fill:O});this.txt.attr({"font-weight":"normal"})});af.txt=ad;ad.attr({fill:O,stroke:U});ad.click(ai);ad.step=ag;ad.mouseover(function(){this.rect.attr({fill:Y});this.attr({"font-weight":"bold"})});ad.mouseout(function(){this.rect.attr({fill:O});this.attr({"font-weight":"normal"})});ad.rect=af};R(x-16,14,"<",K,1,O);R(x,14,">",o,1);R(x-37,19,"<<",K,5);R(x+16,19,">>",o,5);R(x-53,14,"|<",K,b.length);R(x+37,14,">|",o,b.length)},H=function(){var j=0;for(;j!=J.length;++j){C[j]=D(j);if(!a[j]){C[j].hide()}}};l.draw=function(){h.clear();n();H()}};function vhfHiFreqTitles(){var b=0,a=[];for(;b!=8;++b){a.push((174+b*6)+" Mhz")}return a}function uhfFreqTitles(){var b=0,a=[];for(;b!=39;++b){a.push((470+b*6)+" Mhz")}return a}function uhfHiFreqTitles(){var b=0,a=[];for(;b!=57;++b){a.push((470+b*6)+" Mhz")}return a}var configureModelPatternTabs=function(){var g=$("#show_pattern"),c=$("#show_model"),a=$("#pattern"),f=$("#model"),b="selected",e,d=function(){if($(this).hasClass(b)){return}g.toggleClass(b);c.toggleClass(b);if(g.hasClass(b)){a.show();f.hide();if(a.html()=="Loading..."){e=f.html();e=e.replace("_r.html","_h.html");a.html(e)}}else{f.show();a.hide()}};g.click(d);c.click(d);a.hide()};var configureTabs=function(e){var h=$(e+" a"),b=[],a=[],i=[],g=-1,c="selected",f,d=function(){var j=0;if($(this).hasClass(c)){return}$(this).toggleClass(c);if(g!==-1){b[g].hide();i[g].toggleClass(c)}for(;j!=i.length;++j){if(i[j].hasClass(c)){g=j;b[g].show();if(b[j].html()=="Loading..."){b[j].html(a[j])}}}};h.each(function(k){var m=$(this),j=m.attr("href"),l=m.attr("title");m.removeAttr("href");if(j.charAt(0)=="#"){if(i.length){$(j).hide()}b.push($(j))}else{m.attr("title","");b.push($(title));a.push("<object data='"+j+"' style='width:100%; height:100%'></object>");$(title).html("Loading...");if(i.length){$(title).hide()}}i.push(m);m.click(d);m.removeClass(c)});if(i.length){i[0].click()}};
