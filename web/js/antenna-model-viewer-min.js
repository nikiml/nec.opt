var NecViewer=function(n){function t(){if("Microsoft Internet Explorer"===navigator.appName){var n=navigator.userAgent,t=RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})")
if(null!==t.exec(n))return parseFloat(RegExp.$1)}return-1}function o(n,t,o){return n[A]("M"+t[0]+" "+t[1]+"L"+o[0]+" "+o[1])}function r(n){return c.PI*n/180}function i(n){return 180*(n/c.PI)}function e(n){return{"font-size":n}}function u(n){return{"font-weight":n}}var c=Math,f=document,a="compatMode",s="opera",v="documentElement",h="body",p="clientWidth",k="clientHeight",d="CSS1Compat",x="length",M="add",m="subtract",z="modulus",$="attr",g="click",w="redraw",y="hover",V="rect",b="push",C="circle",E="remove",I="translate",L="elements",R="set",j="forEach",S="scale",H="join",A="path",N=void 0,P="map",q="line"
return n.getClientWidth=function(){return f[a]!==d||window[s]?f[h][p]:f[v][p]},n.getClientHeight=function(){return f[a]!==d||window.opera?f[h][k]:f[v][k]},n.AntennaGeometry=function(n,f,a,s,v,h,p){var k=Raphael(n,f,a),d=s,T=c.round,W=c.min,X=c.max,Y=Matrix,D=Y.RotationX,F=Y.RotationY,G=12,O=[1,0,0],U=[0,1,0],Z=[0,0,1],B=[0,0,0],J=[-1,0,0],K=[0,-1,0],Q=[0,0,-1],_=D(r(15)).x(F(r(-60)).x($M([U,Z,O]))),nt=[],tt=-1,ot=$V(B),rt=$V(B),it=1,et=this,ut=$M([O,K,Z]),ct=ut.x(_),ft=N,lt=v?14:0,at=0,st=0,vt=-1!==t(),ht=p||"#fff",pt="#f8f8f8",kt=1,dt=0,xt=function(n){return T(1e3*n)+"mm"},Mt=function(n){return T(1e7*n)/10+"mm2"},mt=function(n){return T(n/.00254/.00254)/100+"in2"},zt=function(n){return T(1e4*n)/10},$t=function(n){return T(1e4*n)/10+"mm"},gt=function(n){for(var t=16;n&&0===n%2;)n/=2,t/=2
return[n,t]},wt=function(n){var t=.0015875,o=0>n?-T(n/t):T(n/t)
return 0!==o%16?(0>n?"-":"")+T(o/16-.5)+" "+gt(c.abs(o%16))[H]("/"):(0>n?"-":"")+T(o/16-.5)},yt=function(n){return wt(n)+"in"},Vt=function(n,t){return n[P](function(n){return n.transform(N,N,t)})},bt=[],Ct=[],Et=[],It=[],Lt=[],Rt=[],jt=function(n){Et=n[P](function(n){return n.lines(ct,it,ot)}),It=n[P](function(n){return n.surface(ct,it,ot)})},St=function(n){jt(n),Lt=Et[P](function(n){return n[P](function(){return[0,0,0]})}),Rt=Array(It[x])
var t=Y.I(3),o=$V(B),r=1
bt=n[P](function(n){return n.lines(t,r,o)}),Ct=n[P](function(n){return n.surface(t,r,o)})},Ht=function(n,t,o){if(0!==n||0!==t){if(0===at==!o)ot=ot[M]($V([n,-t,0]))
else{var r,i,e=0
if("z"==ft?(e=-t,n=0,t=0):"y"==ft?n=0:"x"==ft&&(t=0),0===n&&0===t&&0===e)return
r=c.sqrt(n*n+t*t+e*e)*c.PI/W(f,a),i=Y.Rotation(r,$V([-t,n,e]).toUnitVector()),r=_.x(rt).x(it),ot=ot[M](ut.x(r)[m](ut.x(i.x(r)))),_=i.x(_)}et[w]()}},At=function(n){var t=ct.x(rt)
ot=ot[M](t.x(it)[m](t.x(it*n))),it*=n,et[w]()},Nt=k[R](),Pt=k[R](),qt=k[R](),Tt=k[R](),Wt=k[R](),Xt="#b00",Yt="#0b0",Dt="#00b",Ft="#ccc",Gt="#888",Ot="none",Ut="#000",Zt="#8ff",Bt=function(){var n=function(n){return ct.x(n.x(30))[M](ot)},t=n($V(B));[[O,"X",Xt],[U,"Y",Yt],[Z,"Z",Dt]][j](function(r){var i=n($V(r[0]))
Pt[b](o(k,t[L],i[L])[$]({stroke:r[2],"stroke-width":1})),i=t[M](i[m](t).x(1.25)),Pt[b](k.text(i.e(1),i.e(2),r[1])[$]({stroke:r[2],"stroke-width":1}))})},Jt=!0,Kt=function(n){tt=n,Jt=!0,et[w](),so()},Qt=function(n,t,o,r){n[g](t),n.mouseover(o),n.mouseout(r)},_t=function(n,t,o,r,i){var c=k[R](),f=k[V](0,0,t,G+2,2),l=k.text(t/2,G/2+1,n)[$](e(G)),a=function(){o(),f[$]({fill:r&&r()?Zt:i})},s=function(){f[$]({fill:Ft}),l[$](u("bold"))},v=function(){f[$]({fill:r&&r()?Zt:i}),l[$](u("normal"))}
return Qt(f,a,s,v),Qt(l,a,s,v),c[b](f,l),c[V]=f,c.update=function(){f[$]({fill:r&&r()?Zt:i,stroke:Ot})},c.update(),c},no=function(){Wt=_t("Help",30,function(){window.open("http://clients.teksavvy.com/~nickm/help.html")},0,pt),Wt[I](f-30,0)},to=function(){if(nt[x]){var n,t,o,r=h[x]
nt[j](function(t){r+=t[n][0][x]}),t=W((f-20)/(r+nt[x]+1),8),o=(f-t*l)/2-30,qt[b](k.text(o+h[x]*t/2,lt/2,h)[$](e(G))),o+=(1+h[x])*t,nt[j](function(n,r){qt[b](_t(n[0],n[0][x]*t,function(){Kt(r)},function(){return r===tt},pt)[I](o,1)),o+=(1+n[0][x])*t})}},oo=function(n,t){return c.atan2(n.cross(t)[z](),n.dot(t))},ro=function(n,t){var o=[n[0][m](t[0])[z](),n[0][m](t[1])[z](),n[1][m](t[0])[z](),n[1][m](t[1])[z]()],r=o.minIndex(),e=0
return 0===r&&(e=oo(n[1][m](n[0]),t[1][m](t[0]))),1===r&&(e=oo(n[1][m](n[0]),t[0][m](t[1]))),2===r&&(e=oo(n[0][m](n[1]),t[1][m](t[0]))),3===r&&(e=oo(n[0][m](n[1]),t[0][m](t[1]))),i(e)},io=0,eo=1e8,uo=[$V([eo,eo,eo]),$V([-eo,-eo,-eo])],co=function(n){return st?yt:n?$t:xt},fo=function(){return st?mt:Mt},lo=function(){return st?wt:zt},ao=function(){var n=uo[1][m](uo[0]),t=W((f-40)/(n.e(1)||1),(a-80)/(n.e(2)||1)),o=uo[1][M](uo[0]).x(.5)
rt=ct.inv().x(o[m](ot).x(1/it)),it*=t,ot=$V([f/2,a/2,0])[m](o[m](ot).x(t))},so=function(){var n=0,t=0,o=[],r=[],i=[],u=[],l=[],a=[],s=[],v="",h=0,p=0,m=function(n,t,o){return o=o||function(n,t){return n===t},n.some(function(n){return o(n,t)})?!1:(n[b](t),!0)},z=function(n,t){return n[1]==n[2]&&n[0].eql(t[0])}
Tt&&Tt[E](),Lt[j](function(t,r){t[j](function(t,i){var e=bt[r][i],u=d[r]
t[0]?(p+=1,o[b](e[q][0],e[q][1]),Ct[r]||(n+=e.len,m(s,u.radius[L],function(n,t){return n[x]==t[x]&&n[0]==t[0]&&(1===t[x]||n[1]==t[1])})),m(l,[e.dir,"l"],z)&&a[b](e[q])):(t[1]&&(o[b](e[q][0]),p+=1),t[2]&&(o[b](e[q][1]),p+=1))})}),Rt[j](function(n,o){if(n){var r=Ct[o]
t+=r.area,m(l,[r.dir,"p"],z)&&(p+=1,a[b]([r.org,r.org[M](r.dir)]))}}),o[j](function(n){m(r,n.e(1)),m(i,n.e(2)),m(u,n.e(3))}),[[r,"x"],[i,"y"],[u,"z"]][j](function(n){1===n[0][x]?(v+=" "+n[1]+": "+co(1)(n[0][0]),++h):2===n[0][x]&&(v+=" \u0394"+n[1]+": "+co(1)(c.abs(n[0][0]-n[0][1])),++h)}),2===a[x]&&(a=ro(a[0],a[1]),v+=" \u2221"+T(10*(l[0][1]!=l[1][1]?90-a:a))/10+"\xb0",++h),1===s[x]&&(v+=" R:"+s[0][P](co(1))[H](","),++h),n>0&&(v+=" Total len: "+co(1)(n),++h),t>0&&(v+=" area: "+fo()(t),++h),Tt=k.text(f/2-20,lt+7,v?"Selection info ("+p+"): "+v:"Select elements for info. Double click to clear. Total len: "+co(1)(io))[$](e(G))},vo=function(){Lt[j](function(n){n[j](function(n){n[0]=!1,n[1]=!1,n[2]=!1})}),Rt[j](function(n,t,o){o[t]=!1}),et[w](),so()},ho=function(n,t,o){if(Nt[E](),o===N){var r=It[n],i=r.org
Nt[b](k.g.popup(i.e(1),i.e(2),fo()(r.area),null,3))}else{var e=bt[n][t],u=Et[n][t].line,c=u[0][M](u[1]).x(.5)
0===o?Nt[b](k.g.popup(c.e(1),c.e(2),co(1)(e.len),null,3)):1===o?Nt[b](k.g.popup(u[0].e(1),u[0].e(2),e[q][0][L][P](lo())[H](","),null,3)):2===o&&Nt[b](k.g.popup(u[1].e(1),u[1].e(2),e[q][1][L][P](lo())[H](","),null,3))}},po=function(){Nt[E]()},ko=function(n,t,o){o!==N?Lt[n][t][o]=!Lt[n][t][o]:Rt[n]=!Rt[n],et[w](),so()},xo=function(n,t,o,r,i,e){var u=function(n,t){var o={},r={}
return(n==N?r:o).fill=n,(t==N?r:o).stroke=t,o}
return t=t||n,t==n&&(t[$]({fill:r,stroke:e}),t.fillin=o,t.fillout=r,t.strokein=i,t.strokeout=e),n[y](function(){t[$](u(t.fillin,t.strokein))},function(){t[$](u(t.fillout,t.strokeout))}),n},Mo=function(n,t,o,r,i){var e=k[R](),u=function(){o(),n[$]({fill:r&&r()?Zt:i})},c=function(){n[$]({fill:Ft})},f=function(){n[$]({fill:r&&r()?Zt:i})}
return Qt(n,u,c,f),Qt(t,u,c,f),e[b](n,t),e.update=function(){n[$]({fill:r&&r()?Zt:i})},e.update(),e},mo=function(){at=at?0:1,et[w]()},zo=function(){var n,t,i,e="#ccc",u={fill:ht,"stroke-dasharray":"-","stroke-width":1},c={fill:ht,"stroke-width":2,"fill-opacity":.75},l={fill:ht,"stroke-width":.5,"stroke-dasharray":"-"},s={fill:Ot,"stroke-width":2,"fill-opacity":.5},v=[],h=[],p=function(n,t){return Mo(k[V](1,1+12*n,30,11)[$]({stroke:Ot}),o(k,[3,6+12*n],[29,6+12*n])[$]({stroke:Ut,"stroke-width":t}),function(){kt=t,v.forEach(function(n){n.update()}),et[w]()},function(){return kt===t},pt)},d=function(n,t){return Mo(k[C](40,7+11*n,t+3)[$]({stroke:Ot}),k[C](40,7+11*n,t||.5)[$]({fill:Ut}),function(){dt=t,h.forEach(function(n){n.update()}),et[w]()},function(){return dt===t},pt)}
v.push(p(0,5),p(1,3),p(2,1)),h.push(d(0,4),d(1,3),d(2,2),d(3,0)),v.concat(h).forEach(function(n){n[I](30,a-42)}),i=_t("mm",20,function(){st=0,t.update(),so()},function(){return!st},pt)[I](0,a-40),t=_t("in",20,function(){st=1,i.update(),so()},function(){return st},pt)[I](0,a-20),Mo(k[C](16,15,14).attr({stroke:Ot}),k[A]("M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM15.687,9.051h-4v2.833H8.854v4.001h2.833v2.833h4v-2.834h2.832v-3.999h-2.833V9.051z")[$]({fill:Ut,stroke:Ot}),function(){At(1.1)},0,pt)[I](f-122,a-30),Mo(k[C](16,15,14).attr({stroke:Ot}),k[A]("M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM8.854,11.884v4.001l9.665-0.001v-3.999L8.854,11.884z")[$]({fill:Ut,stroke:Ot}),function(){At(1/1.1)},0,pt)[I](f-93,a-30),Mo(k[C](16,16,14).attr({stroke:Ut}),k[A]("M15.999,4.308c1.229,0.001,2.403,0.214,3.515,0.57L18.634,6.4h6.247l-1.562-2.706L21.758,0.99l-0.822,1.425c-1.54-0.563-3.2-0.878-4.936-0.878c-7.991,0-14.468,6.477-14.468,14.468c0,3.317,1.128,6.364,3.005,8.805l2.2-1.689c-1.518-1.973-2.431-4.435-2.436-7.115C4.312,9.545,9.539,4.318,15.999,4.308zM27.463,7.203l-2.2,1.69c1.518,1.972,2.431,4.433,2.435,7.114c-0.011,6.46-5.238,11.687-11.698,11.698c-1.145-0.002-2.24-0.188-3.284-0.499l0.828-1.432H7.297l1.561,2.704l1.562,2.707l0.871-1.511c1.477,0.514,3.058,0.801,4.709,0.802c7.992-0.002,14.468-6.479,14.47-14.47C30.468,12.689,29.339,9.643,27.463,7.203z")[$]({fill:Ut})[S](.75),mo,function(){return 1===at},pt)[I](f-32,a-32),Mo(k[C](15.5,15.5,14).attr({stroke:Ut}),k[A]("M25.545,23.328,17.918,15.623,25.534,8.007,27.391,9.864,29.649,1.436,21.222,3.694,23.058,5.53,15.455,13.134,7.942,5.543,9.809,3.696,1.393,1.394,3.608,9.833,5.456,8.005,12.98,15.608,5.465,23.123,3.609,21.268,1.351,29.695,9.779,27.438,7.941,25.6,15.443,18.098,23.057,25.791,21.19,27.638,29.606,29.939,27.393,21.5z")[$]({fill:Ut,stroke:Ut})[S](5/8),function(){ao(),et[w]()},0,pt)[I](f-64,a-32),n=k[R](),n[b](k[A]("M0,3l15,-3l9,5l-15,3z")),n[b](k[A]("M0,3l9,5v16l-9,-5z")),n[b](k[A]("M9,8v16l15,-3v-16z")),n[$](c),xo(n,N,Gt,ht)[g](function(){_=D(r(15)).x(F(r(-60)).x($M([U,Z,O]))),et[w]()}),n[I](f-206,a-28)[$]({stroke:"#000","stroke-linejoin":"round"}),n=k[R](),n[b](k[A]("M0,24l8,-8v-16m0,16h16")[$](u)),n[b](xo(k[A]("M0,8v16h16v-16z")[$](c),N,Gt,ht)[g](function(){_=$M([U,Z,O]),et[w]()})),n[b](xo(k[A]("M0,8h16l8,-8h-16z")[$](c),N,Gt,ht)[g](function(){_=$M([U,J,Z]),et[w]()})),n[b](xo(k[A]("M16,8v16l8,-8v-16z")[$](c),N,Gt,ht)[g](function(){_=$M([J,Z,U]),et[w]()})),n[I](f-178,a-28)[$]({stroke:"#000","stroke-linejoin":"round"}),n=k[R](),n[b](xo(k[A]("M0,8v16l8,-8v-16z")[$](l),N,e,ht)[g](function(){_=$M([O,Z,K]),et[w]()})),n[b](xo(k[A]("M0,24h16l8,-8h-16z")[$](l),N,e,ht)[g](function(){_=$M([U,O,Q]),et[w]()})),n[b](xo(k[A]("M8,0h16v16h-16z")[$](l),N,e,ht)[g](function(){_=$M([K,Z,J]),et[w]()})),n[b](k[A]("M0,8v16h16v-16z")[$](s)),n[b](k[A]("M0,8h16l8,-8h-16z")[$](s)),n[b](k[A]("M16,8v16l8,-8v-16z")[$](s)),n[I](f-150,a-28)[$]({stroke:"#000","stroke-linejoin":"round"})},$o=function(n,t){return $V([W(n.e(1),t.e(1)),W(n.e(2),t.e(2)),W(n.e(3),t.e(3))])},go=function(n,t){return $V([X(n.e(1),t.e(1)),X(n.e(2),t.e(2)),X(n.e(3),t.e(3))])},wo=0,yo=function(n,t){var o,r
return n.drag(function(t,i){var e=t-o,u=-i+r
o=t,r=i,Ht(e,u,n.mb)},function(i,e,u){ft=t,o=0,r=0,n.mb=u.which==N?4==u.button:2==u.which,wo=1},function(){wo=0,et[w]()}),n.dblclick(function(){vo(),et[w](),so()}),n},Vo=function(n,t,o,r,i,e,u){return yo(k[V](n,t,o,r,i)[$]({fill:u,stroke:Ot}),e)},bo=function(n){return"[object Array]"===Object.prototype.toString.call(n)},Co=function(n,t){return n[0]-t[0]},Eo=function(){var n=[],t=[]
return Et[j](function(t,o){t[j](function(t,r){n[b]([c.min(t[q][0].e(3),t[q][1].e(3)),o,r])})}),n[x]-4*t[x]<100&&n.sort(Co),It[j](function(n,o){n&&t[b]([n.org.e(3),o])}),t[x]<100&&t.sort(Co),[n,t]},Io=function(n,t,o,r){return n[y](function(){ho(t,o,r)},po),n[g](function(){ko(t,o,r)}),n}
k.g=k.g||k,v&&(tt=0),Vo(1,1,f-2,a-2,10,"3",ht),Vo(1,1,f-2,40,10,"x",pt),Vo(1,1,40,a-2,10,"z",pt),Vo(f-41,1,f-2,a-2,10,"y",pt),Vo(1,a-42,f-2,a-2,10,"x",pt),zo(),no(),to(),so(),this[w]=function(){Nt[E](),Pt[E]()
var n,t,r,i,e,u=k[R](),c=k[R](),f=k[R](),l={},a={},h="#fcf"
io=0,ct=ut.x(_),Jt?(-1!==tt&&(d=bo(v[tt][1])?s.concat(v[tt][1]):Vt(s,nt[tt][1])),St(d),Jt=!1):jt(d),i=Eo(),e=i[0][x]-4*i[0][x]<100,uo=[$V([eo,eo,eo]),$V([-eo,-eo,-eo])],Pt[b](f),i[1][j](function(n){var o="M",r=n[1],i=It[r],e=i[A][x]
t=Rt[r]?"#f0f":d[r].color,i[A][j](function(n,t){o+=n.e(1)+","+n.e(2)+(e-1>t?"L":"z")}),f[b](i=k[A](o).attr({stroke:Ot,fill:t,"fill-opacity":.25})),wo||Io(i,r)}),!wo&&!vt&&11>kt&&e&&(Pt[b](u),Pt[b](c),i[0][j](function(n){var t=n[1],r=n[2],i=Et[t][r].line
u[b](Io(o(k,i[0][L],i[1][L]),t,r,0)),c[b](Io(k[C](i[0].e(1),i[0].e(2),8),t,r,1)),c[b](Io(k[C](i[1].e(1),i[1].e(2),8),t,r,2))}),u[$]({stroke:h,"stroke-width":11,"fill-opacity":0,"stroke-opacity":0}),c[$]({stroke:h,fill:h,"fill-opacity":0,"stroke-opacity":0})),Bt(),i[0][j](function(i){var e=i[1],u=i[2],c=Et[e][u],f=c[q],s=c.len
uo[0]=$o($o(uo[0],f[0]),f[1]),uo[1]=go(go(uo[1],f[0]),f[1]),t=d[e].color,s>1e-7?(Ct[e]||(io+=s),n=o(k,f[0][L],f[1][L]),r=Lt[e][u][0]?"#f0f":t,r in l||(l[r]=k[R](),Pt[b](l[r])),l[r][b](n),wo||(Io(n,e,u,0),0!==dt&&[1,2].forEach(function(n){r=Lt[e][u][n]?"#f0f":t,r in a||(a[r]=k[R](),Pt[b](a[r])),a[r][b](Io(k[C](f[n-1].e(1),f[n-1].e(2),dt),e,u,n))}))):(n=k[C](f[0].e(1),f[0].e(2),5),n[y](function(){ho(e,u,1)},po),r=Lt[e][u][1]?"#f0f":t,r in a||(a[r]=k[R](),Pt[b](a[r])),a[r][b](n))})
for(n in l)l[n][$]({stroke:n,"stroke-width":kt})
for(n in a)a[n][$]({stroke:n,fill:n})},this[w](),this.fit=function(){ao()},this.fit(),this[w](),so()},n}(NecViewer||{})