var NecViewer=function(n){function t(){if("Microsoft Internet Explorer"===navigator.appName){var n=navigator.userAgent,t=RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})")
if(null!==t.exec(n))return parseFloat(RegExp.$1)}return-1}function o(n,t,o){return n[H]("M"+t[0]+" "+t[1]+"L"+o[0]+" "+o[1])}function r(n){return c.PI*n/180}function e(n){return n/c.PI*180}function i(n){return{"font-size":n}}function u(n){return{"font-weight":n}}var c=Math,f=document,a="compatMode",s="opera",v="documentElement",h="body",k="clientWidth",d="clientHeight",p="CSS1Compat",m="length",M="add",x="subtract",g="modulus",z="attr",w="click",$="redraw",y="hover",b="rect",V="push",C="circle",R="remove",E="translate",S="elements",I="set",L="forEach",j="scale",A="join",H="path",F=void 0,B="map",_="line"
return n.getClientWidth=function(){return f[a]!==p||window[s]?f[h][k]:f[v][k]},n.getClientHeight=function(){return f[a]!==p||window.opera?f[h][d]:f[v][d]},n.AntennaGeometry=function(n,f,a,s,v,h,k){var d=Raphael(n,f,a),p=s,D=c.round,N=c.min,P=c.max,q=Matrix,T=q.RotationX,W=q.RotationY,X=12,Y=[1,0,0],G=[0,1,0],O=[0,0,1],U=[0,0,0],Z=[-1,0,0],J=[0,-1,0],K=[0,0,-1],Q=T(r(15)).x(W(r(-60)).x($M([G,O,Y]))),nt=[],tt=-1,ot=$V(U),rt=$V(U),et=1,it=this,ut=$M([Y,J,O]),ct=ut.x(Q),ft=F,lt=v?14:0,at=0,st=0,vt=-1!==t(),ht=k||"#fff",kt="#f8f8f8",dt=1,pt=0,mt=function(n){return D(1e3*n)+"mm"},Mt=function(n){return D(1e7*n)/10+"mm2"},xt=function(n){return D(n/.00254/.00254)/100+"in2"},gt=function(n){return D(1e4*n)/10},zt=function(n){return D(1e4*n)/10+"mm"},wt=function(n){for(var t=16;n&&n%2===0;)n/=2,t/=2
return[n,t]},$t=function(n){var t=.0015875,o=0>n?-D(n/t):D(n/t)
return o%16!==0?(0>n?"-":"")+D(o/16-.5)+" "+wt(c.abs(o%16))[A]("/"):(0>n?"-":"")+D(o/16-.5)},yt=function(n){return $t(n)+"in"},bt=function(n,t){return n[B](function(n){return n.transform(F,F,t)})},Vt=[],Ct=[],Rt=[],Et=[],St=[],It=[],Lt={},jt=[],At=function(n){Rt=n[B](function(n){return n.lines(ct,et,ot)}),Et=n[B](function(n){return n.surface(ct,et,ot)})},Ht=function(n){At(n),St=Rt[B](function(n){return n[B](function(){return[0,0,0]})}),It=Array(Et[m])
var t=q.I(3),o=$V(U),r=1,e=Lt
Vt=n[B](function(n){return n.lines(t,r,o)}),Ct=n[B](function(n){return n.surface(t,r,o)}),Lt={},jt=[],n[L](function(n){n.color in Lt||(jt.push(n.color),Lt[n.color]=n.color in e?e[n.color]:1)})},Ft=function(n,t,o){if(0!==n||0!==t){if(0===at==!o)ot=ot[M]($V([n,-t,0]))
else{var r,e,i=0
if("z"==ft?(i=-t,n=0,t=0):"y"==ft?n=0:"x"==ft&&(t=0),0===n&&0===t&&0===i)return
r=c.sqrt(n*n+t*t+i*i)*c.PI/N(f,a),e=q.Rotation(r,$V([-t,n,i]).toUnitVector()),r=Q.x(rt).x(et),ot=ot[M](ut.x(r)[x](ut.x(e.x(r)))),Q=e.x(Q)}it[$]()}},Bt=function(n){var t=ct.x(rt)
ot=ot[M](t.x(et)[x](t.x(et*n))),et*=n,it[$]()},_t=d[I](),Dt=d[I](),Nt=d[I](),Pt=d[I](),qt=d[I](),Tt="#b00",Wt="#0b0",Xt="#00b",Yt="#ccc",Gt="#888",Ot="none",Ut="#000",Zt="#8ff",Jt=function(){var n=function(n){return ct.x(n.x(30))[M](ot)},t=n($V(U));[[Y,"X",Tt],[G,"Y",Wt],[O,"Z",Xt]][L](function(r){var e=n($V(r[0]))
Dt[V](o(d,t[S],e[S])[z]({stroke:r[2],"stroke-width":1})),e=t[M](e[x](t).x(1.25)),Dt[V](d.text(e.e(1),e.e(2),r[1])[z]({stroke:r[2],"stroke-width":1}))})},Kt=!0,Qt=function(n){tt=n,Kt=!0,it[$](),ho()},no=function(n,t,o,r){n[w](t),n.mouseover(o),n.mouseout(r)},to=function(n,t,o,r,e,c){var f=d[I](),l=d[b](0,0,t,X+2,2),a=d.text(t/2,X/2+1,n)[z](i(X)),c=c||Zt,s=function(){o(),l[z]({fill:r&&r()?c:e})},v=function(){l[z]({fill:Yt}),a[z](u("bold"))},h=function(){l[z]({fill:r&&r()?c:e}),a[z](u("normal"))}
return no(l,s,v,h),no(a,s,v,h),f[V](l,a),f[b]=l,f.update=function(){l[z]({fill:r&&r()?c:e,stroke:Ot})},f.update(),f},oo=function(){qt=to("Help",30,function(){window.open("http://clients.teksavvy.com/~nickm/help.html")},0,kt),qt[E](f-30,0)},ro=function(){if(nt[m]){var n,t,o,r=h[m]
nt[L](function(t){r+=t[n][0][m]}),t=N((f-20)/(r+nt[m]+1),8),o=(f-t*l)/2-30,Nt[V](d.text(o+h[m]*t/2,lt/2,h)[z](i(X))),o+=(1+h[m])*t,nt[L](function(n,r){Nt[V](to(n[0],n[0][m]*t,function(){Qt(r)},function(){return r===tt},kt)[E](o,1)),o+=(1+n[0][m])*t})}},eo=function(n,t){return c.atan2(n.cross(t)[g](),n.dot(t))},io=function(n,t){var o=[n[0][x](t[0])[g](),n[0][x](t[1])[g](),n[1][x](t[0])[g](),n[1][x](t[1])[g]()],r=o.minIndex(),i=0
return 0===r&&(i=eo(n[1][x](n[0]),t[1][x](t[0]))),1===r&&(i=eo(n[1][x](n[0]),t[0][x](t[1]))),2===r&&(i=eo(n[0][x](n[1]),t[1][x](t[0]))),3===r&&(i=eo(n[0][x](n[1]),t[0][x](t[1]))),e(i)},uo=0,co=1e8,fo=[$V([co,co,co]),$V([-co,-co,-co])],lo=function(n){return st?yt:n?zt:mt},ao=function(){return st?xt:Mt},so=function(){return st?$t:gt},vo=function(){var n=fo[1][x](fo[0]),t=N((f-40)/(n.e(1)||1),(a-80)/(n.e(2)||1)),o=fo[1][M](fo[0]).x(.5)
rt=ct.inv().x(o[x](ot).x(1/et)),et*=t,ot=$V([f/2,a/2,0])[x](o[x](ot).x(t))},ho=function(){var n=0,t=0,o=[],r=[],e=[],u=[],l=[],a=[],s=[],v="",h=0,k=0,x=function(n,t,o){return o=o||function(n,t){return n===t},n.some(function(n){return o(n,t)})?!1:(n[V](t),!0)},g=function(n,t){return n[1]==n[2]&&n[0].eql(t[0])}
Pt&&Pt[R](),St[L](function(t,r){t[L](function(t,e){var i=Vt[r][e],u=p[r]
t[0]?(k+=1,o[V](i[_][0],i[_][1]),Ct[r]||(n+=i.len,x(s,u.radius[S],function(n,t){return n[m]==t[m]&&n[0]==t[0]&&(1===t[m]||n[1]==t[1])})),x(l,[i.dir,"l"],g)&&a[V](i[_])):(t[1]&&(o[V](i[_][0]),k+=1),t[2]&&(o[V](i[_][1]),k+=1))})}),It[L](function(n,o){if(n){var r=Ct[o]
t+=r.area,x(l,[r.dir,"p"],g)&&(k+=1,a[V]([r.org,r.org[M](r.dir)]))}}),o[L](function(n){x(r,n.e(1)),x(e,n.e(2)),x(u,n.e(3))}),[[r,"x"],[e,"y"],[u,"z"]][L](function(n){1===n[0][m]?(v+=" "+n[1]+": "+lo(1)(n[0][0]),++h):2===n[0][m]&&(v+=" \u0394"+n[1]+": "+lo(1)(c.abs(n[0][0]-n[0][1])),++h)}),2===a[m]&&(a=io(a[0],a[1]),v+=" \u2221"+D(10*(l[0][1]!=l[1][1]?90-a:a))/10+"\xb0",++h),1===s[m]&&(v+=" R:"+s[0][B](lo(1))[A](","),++h),n>0&&(v+=" Total len: "+lo(1)(n),++h),t>0&&(v+=" area: "+ao()(t),++h),Pt=d.text(f/2-20,lt+7,v?"Selection info ("+k+"): "+v:"Select elements for info. Double click to clear. Total len: "+lo(1)(uo))[z](i(X))},ko=function(){St[L](function(n){n[L](function(n){n[0]=!1,n[1]=!1,n[2]=!1})}),It[L](function(n,t,o){o[t]=!1}),it[$](),ho()},po=function(n,t,o){if(_t[R](),o===F){var r=Et[n],e=r.org
_t[V](d.g.popup(e.e(1),e.e(2),ao()(r.area),null,3))}else{var i=Vt[n][t],u=Rt[n][t].line,c=u[0][M](u[1]).x(.5)
0===o?_t[V](d.g.popup(c.e(1),c.e(2),lo(1)(i.len),null,3)):1===o?_t[V](d.g.popup(u[0].e(1),u[0].e(2),i[_][0][S][B](so())[A](","),null,3)):2===o&&_t[V](d.g.popup(u[1].e(1),u[1].e(2),i[_][1][S][B](so())[A](","),null,3))}},mo=function(){_t[R]()},Mo=function(n,t,o){o!==F?St[n][t][o]=!St[n][t][o]:It[n]=!It[n],it[$](),ho()},xo=function(n,t,o,r,e,i){var u=function(n,t){var o={},r={}
return(n==F?r:o).fill=n,(t==F?r:o).stroke=t,o}
return t=t||n,t==n&&(t[z]({fill:r,stroke:i}),t.fillin=o,t.fillout=r,t.strokein=e,t.strokeout=i),n[y](function(){t[z](u(t.fillin,t.strokein))},function(){t[z](u(t.fillout,t.strokeout))}),n},go=function(n,t,o,r,e,i){var u=d[I](),i=i||Zt,c=function(){o(),n[z]({fill:r&&r()?i:e})},f=function(){n[z]({fill:i!=Yt?Yt:r&&r()?e:i})},l=function(){n[z]({fill:r&&r()?i:e})}
return no(n,c,f,l),no(t,c,f,l),u[V](n,t),u.update=function(){n[z]({fill:r&&r()?i:e})},u.update(),u},zo=function(){at=at?0:1,it[$]()},wo=d[I](),$o=function(){if(wo.remove(),!(jt.length<2)){var n,t=function(n,t,r){return go(d[b](1,1+12*n,30,11)[z]({stroke:Ot}),o(d,[3,6+12*n],[29,6+12*n])[z]({stroke:r,"stroke-width":t}),function(){Lt[r]=Lt[r]?0:1,it[$]()},function(){return 1===Lt[r]},kt,Yt)}
for(n=0;n!=jt.length;++n)wo.push(t(n,5,jt[n]))
wo[E](f-35,50)}},yo=function(){var n,t,e,i="#ccc",u={fill:ht,"stroke-dasharray":"-","stroke-width":1},c={fill:ht,"stroke-width":2,"fill-opacity":.75},l={fill:ht,"stroke-width":.5,"stroke-dasharray":"-"},s={fill:Ot,"stroke-width":2,"fill-opacity":.5},v=[],h=[],k=function(n,t){return go(d[b](1,1+12*n,30,11)[z]({stroke:Ot}),o(d,[3,6+12*n],[29,6+12*n])[z]({stroke:Ut,"stroke-width":t}),function(){dt=t,v.forEach(function(n){n.update()}),it[$]()},function(){return dt===t},kt)},p=function(n,t){return go(d[C](40,7+11*n,t+3)[z]({stroke:Ot}),d[C](40,7+11*n,t||.5)[z]({fill:Ut}),function(){pt=t,h.forEach(function(n){n.update()}),it[$]()},function(){return pt===t},kt)}
v.push(k(0,5),k(1,3),k(2,1)),h.push(p(0,4),p(1,3),p(2,2),p(3,0)),v.concat(h).forEach(function(n){n[E](30,a-42)}),e=to("mm",20,function(){st=0,t.update(),ho()},function(){return!st},kt)[E](0,a-40),t=to("in",20,function(){st=1,e.update(),ho()},function(){return st},kt)[E](0,a-20),go(d[C](16,15,14).attr({stroke:Ot}),d[H]("M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM15.687,9.051h-4v2.833H8.854v4.001h2.833v2.833h4v-2.834h2.832v-3.999h-2.833V9.051z")[z]({fill:Ut,stroke:Ot}),function(){Bt(1.1)},0,kt)[E](f-122,a-30),go(d[C](16,15,14).attr({stroke:Ot}),d[H]("M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM8.854,11.884v4.001l9.665-0.001v-3.999L8.854,11.884z")[z]({fill:Ut,stroke:Ot}),function(){Bt(1/1.1)},0,kt)[E](f-93,a-30),go(d[C](16,16,14).attr({stroke:Ut}),d[H]("M15.999,4.308c1.229,0.001,2.403,0.214,3.515,0.57L18.634,6.4h6.247l-1.562-2.706L21.758,0.99l-0.822,1.425c-1.54-0.563-3.2-0.878-4.936-0.878c-7.991,0-14.468,6.477-14.468,14.468c0,3.317,1.128,6.364,3.005,8.805l2.2-1.689c-1.518-1.973-2.431-4.435-2.436-7.115C4.312,9.545,9.539,4.318,15.999,4.308zM27.463,7.203l-2.2,1.69c1.518,1.972,2.431,4.433,2.435,7.114c-0.011,6.46-5.238,11.687-11.698,11.698c-1.145-0.002-2.24-0.188-3.284-0.499l0.828-1.432H7.297l1.561,2.704l1.562,2.707l0.871-1.511c1.477,0.514,3.058,0.801,4.709,0.802c7.992-0.002,14.468-6.479,14.47-14.47C30.468,12.689,29.339,9.643,27.463,7.203z")[z]({fill:Ut})[j](.75),zo,function(){return 1===at},kt)[E](f-32,a-32),go(d[C](15.5,15.5,14).attr({stroke:Ut}),d[H]("M25.545,23.328,17.918,15.623,25.534,8.007,27.391,9.864,29.649,1.436,21.222,3.694,23.058,5.53,15.455,13.134,7.942,5.543,9.809,3.696,1.393,1.394,3.608,9.833,5.456,8.005,12.98,15.608,5.465,23.123,3.609,21.268,1.351,29.695,9.779,27.438,7.941,25.6,15.443,18.098,23.057,25.791,21.19,27.638,29.606,29.939,27.393,21.5z")[z]({fill:Ut,stroke:Ut})[j](5/8),function(){vo(),it[$]()},0,kt)[E](f-64,a-32),n=d[I](),n[V](d[H]("M0,3l15,-3l9,5l-15,3z")),n[V](d[H]("M0,3l9,5v16l-9,-5z")),n[V](d[H]("M9,8v16l15,-3v-16z")),n[z](c),xo(n,F,Gt,ht)[w](function(){Q=T(r(15)).x(W(r(-60)).x($M([G,O,Y]))),it[$]()}),n[E](f-206,a-28)[z]({stroke:"#000","stroke-linejoin":"round"}),n=d[I](),n[V](d[H]("M0,24l8,-8v-16m0,16h16")[z](u)),n[V](xo(d[H]("M0,8v16h16v-16z")[z](c),F,Gt,ht)[w](function(){Q=$M([G,O,Y]),it[$]()})),n[V](xo(d[H]("M0,8h16l8,-8h-16z")[z](c),F,Gt,ht)[w](function(){Q=$M([G,Z,O]),it[$]()})),n[V](xo(d[H]("M16,8v16l8,-8v-16z")[z](c),F,Gt,ht)[w](function(){Q=$M([Z,O,G]),it[$]()})),n[E](f-178,a-28)[z]({stroke:"#000","stroke-linejoin":"round"}),n=d[I](),n[V](xo(d[H]("M0,8v16l8,-8v-16z")[z](l),F,i,ht)[w](function(){Q=$M([Y,O,J]),it[$]()})),n[V](xo(d[H]("M0,24h16l8,-8h-16z")[z](l),F,i,ht)[w](function(){Q=$M([G,Y,K]),it[$]()})),n[V](xo(d[H]("M8,0h16v16h-16z")[z](l),F,i,ht)[w](function(){Q=$M([J,O,Z]),it[$]()})),n[V](d[H]("M0,8v16h16v-16z")[z](s)),n[V](d[H]("M0,8h16l8,-8h-16z")[z](s)),n[V](d[H]("M16,8v16l8,-8v-16z")[z](s)),n[E](f-150,a-28)[z]({stroke:"#000","stroke-linejoin":"round"})},bo=function(n,t){return $V([N(n.e(1),t.e(1)),N(n.e(2),t.e(2)),N(n.e(3),t.e(3))])},Vo=function(n,t){return $V([P(n.e(1),t.e(1)),P(n.e(2),t.e(2)),P(n.e(3),t.e(3))])},Co=0,Ro=function(n,t){var o,r
return n.drag(function(t,e){var i=t-o,u=-e+r
o=t,r=e,Ft(i,u,n.mb)},function(e,i,u){ft=t,o=0,r=0,n.mb=u.which==F?4==u.button:2==u.which,Co=1},function(){Co=0,it[$]()}),n.dblclick(function(){ko(),it[$](),ho()}),n},Eo=function(n,t,o,r,e,i,u){return Ro(d[b](n,t,o,r,e)[z]({fill:u,stroke:Ot}),i)},So=function(n){return"[object Array]"===Object.prototype.toString.call(n)},Io=function(n,t){return n[0]-t[0]},Lo=function(){var n=[],t=[]
return Rt[L](function(t,o){t[L](function(t,r){n[V]([c.min(t[_][0].e(3),t[_][1].e(3)),o,r])})}),n[m]-4*t[m]<100&&n.sort(Io),Et[L](function(n,o){n&&t[V]([n.org.e(3),o])}),t[m]<100&&t.sort(Io),[n,t]},jo=function(n,t,o,r){return n[y](function(){po(t,o,r)},mo),n[w](function(){Mo(t,o,r)}),n}
d.g=d.g||d,v&&(tt=0),Eo(1,1,f-2,a-2,10,"3",ht),Eo(1,1,f-2,40,10,"x",kt),Eo(1,1,40,a-2,10,"z",kt),Eo(f-41,1,f-2,a-2,10,"y",kt),Eo(1,a-42,f-2,a-2,10,"x",kt),yo(),oo(),ro(),ho(),this[$]=function(){_t[R](),Dt[R]()
var n,t,r,e,i,u=d[I](),c=d[I](),f=d[I](),l={},a={},h="#fcf"
uo=0,ct=ut.x(Q),Kt?(-1!==tt&&(p=So(v[tt][1])?s.concat(v[tt][1]):bt(s,nt[tt][1])),Ht(p),$o(),Kt=!1):At(p),e=Lo(),i=e[0][m]-4*e[0][m]<100,fo=[$V([co,co,co]),$V([-co,-co,-co])],Dt[V](f),e[1][L](function(n){var o="M",r=n[1],e=Et[r],i=e[H][m]
t=p[r].color,Lt[t]&&(t=It[r]?"#f0f":t,e[H][L](function(n,t){o+=n.e(1)+","+n.e(2)+(i-1>t?"L":"z")}),f[V](e=d[H](o).attr({stroke:Ot,fill:t,"fill-opacity":.25})),Co||jo(e,r))}),!Co&&!vt&&11>dt&&i&&(Dt[V](u),Dt[V](c),e[0][L](function(n){var r=n[1],e=n[2],i=Rt[r][e].line
t=p[r].color,Lt[t]&&(u[V](jo(o(d,i[0][S],i[1][S]),r,e,0)),c[V](jo(d[C](i[0].e(1),i[0].e(2),8),r,e,1)),c[V](jo(d[C](i[1].e(1),i[1].e(2),8),r,e,2)))}),u[z]({stroke:h,"stroke-width":11,"fill-opacity":0,"stroke-opacity":0}),c[z]({stroke:h,fill:h,"fill-opacity":0,"stroke-opacity":0})),Jt(),e[0][L](function(e){var i=e[1],u=e[2],c=Rt[i][u],f=c[_],s=c.len
if(t=p[i].color,Lt[t])if(fo[0]=bo(bo(fo[0],f[0]),f[1]),fo[1]=Vo(Vo(fo[1],f[0]),f[1]),s>1e-7){if(Ct[i]){if(Co)return}else uo+=s
n=o(d,f[0][S],f[1][S]),r=St[i][u][0]?"#f0f":t,r in l||(l[r]=d[I](),Dt[V](l[r])),l[r][V](n),Co||(jo(n,i,u,0),0!==pt&&[1,2].forEach(function(n){r=St[i][u][n]?"#f0f":t,r in a||(a[r]=d[I](),Dt[V](a[r])),a[r][V](jo(d[C](f[n-1].e(1),f[n-1].e(2),pt),i,u,n))}))}else n=d[C](f[0].e(1),f[0].e(2),5),n[y](function(){po(i,u,1)},mo),r=St[i][u][1]?"#f0f":t,r in a||(a[r]=d[I](),Dt[V](a[r])),a[r][V](n)})
for(n in l)l[n][z]({stroke:n,"stroke-width":dt})
for(n in a)a[n][z]({stroke:n,fill:n})},this[$](),this.fit=function(){vo()},this.fit(),this[$](),ho()},n}(NecViewer||{})